@page "/"
@namespace GrinHome.Pages
@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers
@{
    Layout = "_Layout";
}

<link rel="stylesheet" href="_content/Radzen.Blazor/css/default.css">
<component type="typeof(App)" render-mode="Server" />
<script src="_content/Radzen.Blazor/Radzen.Blazor.js"></script>

<script>
    new MutationObserver((mutations, observer) => {
        if (document.querySelector('#components-reconnect-modal h5 a')) {
            async function attemptReload() {
                await fetch(''); // Check the server really is back
                location.reload();
            }
            observer.disconnect();
            attemptReload();
            setInterval(attemptReload, 1000);
        }
    }).observe(document.body, { childList: true, subtree: true });

</script>